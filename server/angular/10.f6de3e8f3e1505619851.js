(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+j9s":function(t,e,c){"use strict";c.r(e),c.d(e,"TicketsModule",(function(){return ct}));var i=c("kt0X"),n=c("snw9"),o=c("vhQE"),a=c("qR5Z"),r=c("fXoL"),b=c("ofXK"),s=c("0IaG"),d=c("55i6"),l=c("tyNb");function m(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div",9),r.Nb(1,"ba-betmatch",10),r.Sb(2,"button",11),r.Zb("click",(function(){r.rc(t);const c=e.$implicit;return r.dc(3).onDelete(c.id)})),r.Ac(3,"\xd7"),r.Rb(),r.Rb()}if(2&t){const t=e.$implicit;r.Ab(1),r.ic("match",t)}}function g(t,e){if(1&t&&(r.Sb(0,"div",7),r.zc(1,m,4,1,"div",8),r.Rb()),2&t){const t=r.dc(2);r.Ab(1),r.ic("ngForOf",t.ticket.betmatches)}}function h(t,e){1&t&&(r.Sb(0,"p"),r.Ac(1,"There are no matches in this ticket"),r.Rb())}function p(t,e){if(1&t){const t=r.Tb();r.Sb(0,"div",1),r.Sb(1,"header",2),r.Sb(2,"button",3),r.Zb("click",(function(){return r.rc(t),r.dc().onCloseDialog()})),r.Ac(3,"\xd7"),r.Rb(),r.Sb(4,"h3"),r.Ac(5),r.Rb(),r.Sb(6,"p"),r.Ac(7),r.Rb(),r.Rb(),r.Sb(8,"div",4),r.zc(9,g,2,1,"div",5),r.Rb(),r.zc(10,h,2,0,"p",6),r.Rb()}if(2&t){const t=r.dc();r.Ab(5),r.Bc(t.ticket.title),r.Ab(2),r.Bc(t.ticket.description),r.Ab(2),r.ic("ngIf",t.ticket.betmatches.length>0),r.Ab(1),r.ic("ngIf",0===t.ticket.betmatches.length)}}let f=(()=>{class t{constructor(t,e,c,i){this.ticketService=t,this.dialogRef=e,this.data=c,this.router=i,this.getTicket(this.data.ticketId)}ngOnInit(){}getTicket(t){this.ticketService.getTicket(t).subscribe(t=>{this.ticket=t.data})}onCloseDialog(){this.dialogRef.close()}onDelete(t){this.ticketService.deleteBetMatch(t).subscribe(e=>this.ticket.betmatches=this.ticket.betmatches.filter(e=>e.id!==t))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(d.a),r.Mb(s.h),r.Mb(s.a),r.Mb(l.d))},t.\u0275cmp=r.Gb({type:t,selectors:[["ba-ticket-details"]],decls:1,vars:1,consts:[["class","ba-ticket",4,"ngIf"],[1,"ba-ticket"],[1,"ba-ticket-header"],["mat-button","","color","accent","title","Close",1,"ba-right",3,"click"],[1,"ba-ticket-body"],["class","ba-ticket-content",4,"ngIf"],[4,"ngIf"],[1,"ba-ticket-content"],["class","ba-ticket-crumb",4,"ngFor","ngForOf"],[1,"ba-ticket-crumb"],[3,"match"],["mat-button","","color","accent","title","Remove match from ticket",1,"ba-remove",3,"click"]],template:function(t,e){1&t&&r.zc(0,p,11,4,"div",0),2&t&&r.ic("ngIf",e.ticket)},styles:[".ba-ticket-header[_ngcontent-%COMP%]{position:relative;text-align:center;padding:1rem}.ba-ticket-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;color:#248e38;margin:0}.ba-ticket-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;font-style:italic;color:#777;margin:.5rem}.ba-ticket-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:-1rem;right:-1rem}.ba-ticket-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;color:#777;margin-top:0}.ba-ticket-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#000}.ba-ticket-content[_ngcontent-%COMP%]{padding:0 .5rem .5rem;max-height:80vh;overflow:auto}.ba-ticket-crumb[_ngcontent-%COMP%]{position:relative;padding:.5rem;border:1px solid #eee}.ba-remove[_ngcontent-%COMP%]{position:absolute;right:0;top:0;padding:0;min-width:2rem}"]}),t})();var u=c("bTqV");let k=(()=>{class t{constructor(t,e,c){this.confirmationRef=t,this.data=e,this.store=c,this.message=null,this.isLoading=!1}ngOnInit(){}deleteTicket(){this.store.dispatch(new a.d(this.data.ticketId)),this.confirmationRef.close()}onCloseDialog(){this.confirmationRef.close()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(s.h),r.Mb(s.a),r.Mb(i.h))},t.\u0275cmp=r.Gb({type:t,selectors:[["ba-confirmation"]],decls:11,vars:3,consts:[[1,"ba-ticket"],[1,"ba-ticket-header"],[1,"ba-ticket-footer"],["mat-button","","title","Close dialog","color","primary",3,"click"],["mat-button","","color","accent",1,"right",3,"title","click"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"header",1),r.Sb(2,"h3"),r.Ac(3),r.Rb(),r.Sb(4,"p"),r.Ac(5),r.Rb(),r.Rb(),r.Sb(6,"footer",2),r.Sb(7,"button",3),r.Zb("click",(function(){return e.onCloseDialog()})),r.Ac(8,"No"),r.Rb(),r.Sb(9,"button",4),r.Zb("click",(function(){return e.deleteTicket()})),r.Ac(10,"Yes"),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Ab(3),r.Cc(" ",e.data.title," "),r.Ab(2),r.Bc(e.data.message),r.Ab(4),r.jc("title",e.data.title))},directives:[u.b],styles:[".ba-ticket-header[_ngcontent-%COMP%]{text-align:center;padding:1rem}.ba-ticket-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:500;font-size:1.2rem;color:#444;margin:0}.ba-ticket-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:italic;color:#777;margin:.5rem}.ba-ticket-footer[_ngcontent-%COMP%]{padding:.5rem}.ba-ticket-footer[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{float:right}"]}),t})();var M=c("NFeN"),C=c("b/j1");let S=(()=>{class t{constructor(t){this.dialog=t}ngOnInit(){}openDialog(){this.dialog.open(f,{width:"90%",maxWidth:"500px",data:{ticketId:this.ticket.id}})}openConfirmationDialog(){this.dialog.open(k,{width:"260px",data:{ticketId:this.ticket.id,title:"Delete ticket?",message:"Are you sure you want to delete this ticket?"}})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(s.b))},t.\u0275cmp=r.Gb({type:t,selectors:[["ba-ticket"]],inputs:{ticket:"ticket"},decls:20,vars:5,consts:[[1,"ba-container","w3-col","l4","m6","s12","w3-animate-zoom"],[1,"ba-ticket"],[1,"ba-ticket-header"],[1,"ba-ticket-body"],[1,"ba-ticket-footer"],["mat-button","","title","Ticket details","color","primary",1,"ba-left",3,"click"],["mat-button","","title","Delete ticket","color","accent",1,"ba-right",3,"click"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.Sb(2,"header",2),r.Sb(3,"h3"),r.Ac(4),r.Rb(),r.Sb(5,"p"),r.Ac(6),r.Rb(),r.Rb(),r.Sb(7,"div",3),r.Sb(8,"p"),r.Ac(9,"ticket created @ "),r.Sb(10,"strong"),r.Ac(11),r.ec(12,"strToDate"),r.Rb(),r.Rb(),r.Rb(),r.Sb(13,"footer",4),r.Sb(14,"a",5),r.Zb("click",(function(){return e.openDialog()})),r.Sb(15,"mat-icon"),r.Ac(16,"view_list"),r.Rb(),r.Rb(),r.Sb(17,"a",6),r.Zb("click",(function(){return e.openConfirmationDialog()})),r.Sb(18,"mat-icon"),r.Ac(19,"delete"),r.Rb(),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Ab(4),r.Bc(e.ticket.title),r.Ab(2),r.Bc(e.ticket.description),r.Ab(5),r.Bc(r.fc(12,3,e.ticket.createdAt)))},directives:[u.a,M.a],pipes:[C.a],styles:[".ba-container[_ngcontent-%COMP%]{padding:.5rem}.ba-ticket[_ngcontent-%COMP%]{box-shadow:0 0 1rem 1px #abdca7}.ba-ticket-header[_ngcontent-%COMP%]{text-align:center;padding:1rem}.ba-ticket-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;color:#248e38;margin:0}.ba-ticket-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:italic;font-size:.8rem;color:#444;margin:.5rem}.ba-ticket-body[_ngcontent-%COMP%]{text-align:center}.ba-ticket-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;color:#777;margin-top:0}.ba-ticket-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#000}.ba-ticket-footer[_ngcontent-%COMP%]{border-top:1px solid #eee;padding:.5rem}"]}),t})();function v(t,e){1&t&&r.Nb(0,"ba-ticket",3),2&t&&r.ic("ticket",e.$implicit)}let O=(()=>{class t{constructor(t){this.store=t,this.pageTitle="Tickets",this.noTickets=!1,this.componentActive=!0}ngOnInit(){this.store.dispatch(new a.g),this.tickets$=this.store.pipe(Object(i.q)(o.b)),this.errorMessage$=this.store.pipe(Object(i.q)(o.a))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(i.h))},t.\u0275cmp=r.Gb({type:t,selectors:[["ba-tickets"]],decls:4,vars:3,consts:[[1,"ba-content"],[1,"w3-row"],[3,"ticket",4,"ngFor","ngForOf"],[3,"ticket"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Sb(1,"div",1),r.zc(2,v,1,1,"ba-ticket",2),r.ec(3,"async"),r.Rb(),r.Rb()),2&t&&(r.Ab(2),r.ic("ngForOf",r.fc(3,1,e.tickets$)))},directives:[b.s,S],pipes:[b.b],styles:[""]}),t})();var A=c("hGdz");const R=[{path:":id",component:f},{path:"",component:O,pathMatch:"full"}];let _=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[l.h.forChild(R)],l.h]}),t})();var P=c("bS68"),w=c("5tNe"),y=c("3Pt+"),I=c("Xa2L"),T=c("kmnG"),F=c("qFsG"),z=c("8IKM");function D(t,e){if(1&t&&(r.Sb(0,"span",5),r.Ac(1),r.Rb()),2&t){const t=r.dc();r.Ab(1),r.Bc(t.match.tip)}}function x(t,e){if(1&t){const t=r.Tb();r.Sb(0,"button",6),r.Zb("click",(function(){return r.rc(t),r.dc().onEdit()})),r.Ac(1),r.Rb()}if(2&t){const t=r.dc();r.Ab(1),r.Bc(t.match.tip?"Edit":"Add prediction")}}function j(t,e){1&t&&r.Nb(0,"mat-progress-spinner",7)}function G(t,e){if(1&t){const t=r.Tb();r.Sb(0,"form",8),r.Zb("ngSubmit",(function(){return r.rc(t),r.dc().onSave()})),r.Sb(1,"mat-form-field"),r.Sb(2,"mat-label"),r.Ac(3,"Yor prediction"),r.Rb(),r.Nb(4,"input",9),r.Sb(5,"mat-error"),r.Ac(6,"Please provide a valid prediction"),r.Rb(),r.Rb(),r.Sb(7,"button",10),r.Ac(8,"Save"),r.Rb(),r.Rb()}if(2&t){const t=r.dc();r.ic("formGroup",t.betmatchForm),r.Ab(7),r.ic("disabled",t.betmatchForm.invalid)}}let L=(()=>{class t{constructor(t,e,c){this.router=t,this.dialogRef=e,this.ticketService=c,this.editMode=!1,this.isLoading=!1,this.errorMessage=null}ngOnInit(){this.betmatchForm=new y.i({tip:new y.f(null,[y.F.required,y.F.minLength(1),y.F.maxLength(4)])})}navigateToMatch(t,e){this.onCloseDialog(),this.router.navigate([`/matches/${t}/${e}`])}onEdit(){this.editMode=!0}onSave(){if(this.betmatchForm.invalid)return;this.isLoading=!0;const t=this.betmatchForm.value.tip;this.ticketService.updateTicket(this.match.id,t).subscribe(e=>{"success"===e.status?this.match.tip=t:this.errorMessage="Something went wrong, please try again later",this.isLoading=!1}),this.editMode=!1}onCloseDialog(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(l.d),r.Mb(s.h),r.Mb(d.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["ba-betmatch"]],inputs:{match:"match"},decls:12,vars:9,consts:[[3,"click"],["class","w3-badge w3-animate-left w3-margin-right",4,"ngIf"],["mat-button","","color","primary",3,"click",4,"ngIf"],["color","primary","mode","indeterminate",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"w3-badge","w3-animate-left","w3-margin-right"],["mat-button","","color","primary",3,"click"],["color","primary","mode","indeterminate"],[3,"formGroup","ngSubmit"],["matInput","","formControlName","tip","placeholder","Ex. 1X"],["mat-button","","type","submit","color","primary",1,"w3-right",3,"disabled"]],template:function(t,e){1&t&&(r.Sb(0,"h6",0),r.Zb("click",(function(){return e.navigateToMatch(e.match.match.sport_key,e.match.match_id)})),r.Ac(1),r.Sb(2,"strong"),r.Ac(3,"VS"),r.Rb(),r.Ac(4),r.Rb(),r.zc(5,D,2,1,"span",1),r.zc(6,x,2,1,"button",2),r.zc(7,j,1,0,"mat-progress-spinner",3),r.zc(8,G,9,2,"form",4),r.Sb(9,"p"),r.Ac(10),r.ec(11,"msToDate"),r.Rb()),2&t&&(r.Ab(1),r.Cc("",e.match.match.home_team," "),r.Ab(3),r.Cc(" ",e.match.match.away_team,""),r.Ab(1),r.ic("ngIf",e.match.tip),r.Ab(1),r.ic("ngIf",!e.editMode),r.Ab(1),r.ic("ngIf",e.isLoading),r.Ab(1),r.ic("ngIf",e.editMode&&!e.isLoading),r.Ab(2),r.Cc("Match start @ ",r.fc(11,7,e.match.match.commence_time),""))},directives:[b.t,u.b,I.a,y.H,y.s,y.j,T.c,T.g,F.a,y.c,y.r,y.h,T.b],pipes:[z.a],styles:["h6[_ngcontent-%COMP%]{color:#54c479;cursor:pointer}h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{padding:0;margin:.1rem}p[_ngcontent-%COMP%]{color:#777}span[_ngcontent-%COMP%]{background-color:#afd91a}mat-progress-spinner[_ngcontent-%COMP%]{margin:1rem auto}"]}),t})();var N=c("j/Fd"),Z=c("Wp6s"),B=c("cH1L"),E=c("ihCf"),$=c("8yBR"),q=c("/t3+"),K=c("vxfF"),X=c("STbY"),J=c("wZkO"),H=c("dNgK"),V=c("bSwM"),Y=c("+0xr"),W=c("M9IT"),Q=c("Dh3D"),U=c("FdVP"),tt=c("6E1o"),et=c("u/C/");let ct=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[A.a,_,i.j.forFeature("tickets",P.a),n.c.forFeature([w.a])]]}),t})();r.uc(f,[l.i,l.e,l.g,l.f,l.j,b.q,b.r,b.s,b.t,b.A,b.w,b.x,b.y,b.z,b.u,b.v,y.H,y.w,y.G,y.c,y.x,y.A,y.a,y.D,y.E,y.z,y.r,y.s,y.C,y.n,y.m,y.y,y.b,y.d,y.u,y.v,y.t,y.g,y.j,y.h,y.k,y.e,N.a,Z.a,Z.f,Z.n,Z.d,Z.m,Z.l,Z.b,Z.e,Z.k,Z.i,Z.h,Z.g,Z.o,Z.c,B.b,u.b,u.a,E.b,E.c,T.b,T.c,T.f,T.g,T.h,T.i,T.j,F.a,F.c,M.a,I.a,I.c,$.a,$.g,$.i,$.j,$.b,$.f,$.h,q.a,q.c,K.a,X.e,X.b,X.d,X.a,J.c,J.d,J.a,J.f,J.e,J.b,s.e,s.d,s.i,s.f,s.c,H.c,V.a,V.c,Y.o,Y.i,Y.k,Y.c,Y.b,Y.n,Y.e,Y.g,Y.h,Y.a,Y.d,Y.j,Y.m,Y.f,Y.l,Y.r,W.a,Q.a,Q.b,U.a,k,tt.a,et.a,O,S,f,L],[b.b,b.G,b.p,b.k,b.E,b.g,b.C,b.F,b.d,b.f,b.i,b.j,b.l,z.a,C.a])}}]);