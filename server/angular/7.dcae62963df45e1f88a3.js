(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"5OiB":function(e,t,n){"use strict";n.r(t),n.d(t,"AdminModule",(function(){return _}));var c=n("hGdz"),i=n("tyNb"),a=n("fXoL");let s=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Hb({type:e,selectors:[["ba-admin-dashboard"]],decls:5,vars:0,consts:[[1,"ba-content"],[1,"w3-row"],[1,"w3-panel","w3-pale-yellow","w3-border"]],template:function(e,t){1&e&&(a.Tb(0,"div",0),a.Tb(1,"div",1),a.Tb(2,"div",2),a.Tb(3,"h6"),a.Bc(4,"Admin dashboard component works!"),a.Sb(),a.Sb(),a.Sb(),a.Sb())},styles:[""]}),e})();var o=n("0EQZ"),r=n("+0xr"),l=n("M9IT"),b=n("Dh3D"),d=n("3Pt+"),u=n("lJxs"),m=n("AytR"),h=n("tk/3");let f=(()=>{class e{constructor(e){this.http=e}getUsers(){return this.http.get(m.a.ENDPOINT_API+"users").pipe(Object(u.a)(e=>e.data))}sendEmail(e,t){return this.http.post(m.a.ENDPOINT_API+"users/email-users",{subject:e,users:t}).pipe(Object(u.a)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(a.Xb(h.b))},e.\u0275prov=a.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var p=n("ofXK"),S=n("kmnG"),g=n("qFsG"),w=n("Xa2L"),A=n("bTqV"),T=n("bSwM");function v(e,t){if(1&e&&(a.Tb(0,"div",22),a.Tb(1,"h6"),a.Bc(2),a.Sb(),a.Sb()),2&e){const e=a.ec();a.Ab(2),a.Cc(e.sendResultMsg)}}function y(e,t){1&e&&a.Ob(0,"mat-progress-spinner",23)}function j(e,t){if(1&e){const e=a.Ub();a.Tb(0,"form",24),a.ac("ngSubmit",(function(){return a.sc(e),a.ec().onSendEmail()})),a.Tb(1,"div",25),a.Tb(2,"mat-form-field",26),a.Tb(3,"mat-label"),a.Bc(4,"Subject"),a.Sb(),a.Ob(5,"input",27),a.Tb(6,"mat-error"),a.Bc(7,"Please provide a valid subject"),a.Sb(),a.Sb(),a.Sb(),a.Tb(8,"footer",25),a.Tb(9,"button",28),a.Bc(10,"Send"),a.Sb(),a.Sb(),a.Sb()}if(2&e){const e=a.ec();a.jc("formGroup",e.emailForm),a.Ab(9),a.jc("disabled",!e.emailForm.valid)}}function k(e,t){if(1&e){const e=a.Ub();a.Tb(0,"th",29),a.Tb(1,"mat-checkbox",30),a.ac("change",(function(t){a.sc(e);const n=a.ec();return t?n.masterToggle():null})),a.Sb(),a.Sb()}if(2&e){const e=a.ec();a.Ab(1),a.jc("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function D(e,t){if(1&e){const e=a.Ub();a.Tb(0,"td",31),a.Tb(1,"mat-checkbox",32),a.ac("click",(function(t){return a.sc(e),t.stopPropagation()}))("change",(function(n){a.sc(e);const c=t.$implicit,i=a.ec();return n?i.selection.toggle(c):null})),a.Sb(),a.Sb()}if(2&e){const e=t.$implicit,n=a.ec();a.Ab(1),a.jc("checked",n.selection.isSelected(e))("aria-label",n.checkboxLabel(e))}}function C(e,t){1&e&&(a.Tb(0,"th",33),a.Bc(1," ID "),a.Sb())}function O(e,t){if(1&e&&(a.Tb(0,"td",31),a.Bc(1),a.Sb()),2&e){const e=t.$implicit;a.Ab(1),a.Dc(" ",e.id," ")}}function B(e,t){1&e&&(a.Tb(0,"th",33),a.Bc(1," Username "),a.Sb())}function R(e,t){if(1&e&&(a.Tb(0,"td",31),a.Bc(1),a.Sb()),2&e){const e=t.$implicit;a.Ab(1),a.Dc(" ",e.username," ")}}function I(e,t){1&e&&(a.Tb(0,"th",33),a.Bc(1," Email "),a.Sb())}function L(e,t){if(1&e&&(a.Tb(0,"td",31),a.Bc(1),a.Sb()),2&e){const e=t.$implicit;a.Ab(1),a.Dc(" ",e.email," ")}}function P(e,t){1&e&&(a.Tb(0,"th",33),a.Bc(1," Role "),a.Sb())}function F(e,t){if(1&e&&(a.Tb(0,"td",31),a.Bc(1),a.Sb()),2&e){const e=t.$implicit;a.Ab(1),a.Dc(" ",e.role," ")}}function M(e,t){1&e&&(a.Tb(0,"th",33),a.Bc(1," Recruits "),a.Sb())}function E(e,t){if(1&e&&(a.Tb(0,"td",31),a.Bc(1),a.Sb()),2&e){const e=t.$implicit;a.Ab(1),a.Dc(" ",e.recruits," ")}}function x(e,t){1&e&&a.Ob(0,"tr",34)}function $(e,t){1&e&&a.Ob(0,"tr",35)}const Q=function(){return[5,10,20]},H=[{path:"",component:s},{path:"users",component:(()=>{class e{constructor(e){this.adminService=e,this.isLoading=!1,this.indeterminate=!1,this.labelPosition="after",this.disabled=!1,this.users=null,this.sendResultMsg=null,this.displayedColumns=["select","id","username","email","role","recruits"],this.selection=new o.c(!0,[])}ngOnInit(){this.adminService.getUsers().subscribe(e=>{this.users=e,this.dataSource=new r.p(e),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}),this.emailForm=new d.i({subject:new d.f(null,[d.F.required,d.F.minLength(10)])})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}isAllSelected(){let e=5;return this.dataSource&&(e=this.dataSource.data.length),this.selection.selected.length===e}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}onSendEmail(){const e=this.emailForm.value.subject;this.selection.selected.length>0&&this.emailForm.value.subject&&(this.isLoading=!0,this.adminService.sendEmail(e,this.selection.selected).subscribe(e=>{this.isLoading=!1,this.sendResultMsg=e.msg}))}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} user ${e.id+1}`:(this.isAllSelected()?"select":"deselect")+" all"}}return e.\u0275fac=function(t){return new(t||e)(a.Nb(f))},e.\u0275cmp=a.Hb({type:e,selectors:[["ba-users"]],viewQuery:function(e,t){var n;1&e&&(a.yc(l.a,!0),a.yc(b.a,!0)),2&e&&(a.oc(n=a.bc())&&(t.paginator=n.first),a.oc(n=a.bc())&&(t.sort=n.first))},decls:33,vars:8,consts:[[1,"ba-content"],[1,"w3-row"],[1,"mat-elevation-z8","w3-container"],["class","w3-panel w3-pale-yellow w3-border",4,"ngIf"],["color","primary","mode","indeterminate",4,"ngIf"],["class","w3-padding-16",3,"formGroup","ngSubmit",4,"ngIf"],[1,"w3-padding-16","w3-block"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","username"],["matColumnDef","email"],["matColumnDef","role"],["matColumnDef","recruits"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],[1,"w3-panel","w3-pale-yellow","w3-border"],["color","primary","mode","indeterminate"],[1,"w3-padding-16",3,"formGroup","ngSubmit"],[1,"w3-container"],[1,"w3-block"],["matInput","","formControlName","subject","placeholder","Ex. pat@example.com"],["mat-stroked-button","","type","submit","color","primary",1,"w3-right",3,"disabled"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(a.Tb(0,"div",0),a.Tb(1,"div",1),a.Tb(2,"div",2),a.Ac(3,v,3,1,"div",3),a.Ac(4,y,1,0,"mat-progress-spinner",4),a.Ac(5,j,11,2,"form",5),a.Tb(6,"mat-form-field",6),a.Tb(7,"mat-label"),a.Bc(8,"Filter"),a.Sb(),a.Tb(9,"input",7,8),a.ac("keyup",(function(e){return t.applyFilter(e)})),a.Sb(),a.Sb(),a.Tb(11,"table",9),a.Rb(12,10),a.Ac(13,k,2,3,"th",11),a.Ac(14,D,2,2,"td",12),a.Qb(),a.Rb(15,13),a.Ac(16,C,2,0,"th",14),a.Ac(17,O,2,1,"td",12),a.Qb(),a.Rb(18,15),a.Ac(19,B,2,0,"th",14),a.Ac(20,R,2,1,"td",12),a.Qb(),a.Rb(21,16),a.Ac(22,I,2,0,"th",14),a.Ac(23,L,2,1,"td",12),a.Qb(),a.Rb(24,17),a.Ac(25,P,2,0,"th",14),a.Ac(26,F,2,1,"td",12),a.Qb(),a.Rb(27,18),a.Ac(28,M,2,0,"th",14),a.Ac(29,E,2,1,"td",12),a.Qb(),a.Ac(30,x,1,0,"tr",19),a.Ac(31,$,1,0,"tr",20),a.Sb(),a.Ob(32,"mat-paginator",21),a.Sb(),a.Sb(),a.Sb()),2&e&&(a.Ab(3),a.jc("ngIf",t.sendResultMsg),a.Ab(1),a.jc("ngIf",t.isLoading),a.Ab(1),a.jc("ngIf",!t.isLoading),a.Ab(6),a.jc("dataSource",t.dataSource),a.Ab(19),a.jc("matHeaderRowDef",t.displayedColumns),a.Ab(1),a.jc("matRowDefColumns",t.displayedColumns),a.Ab(1),a.jc("pageSizeOptions",a.lc(7,Q)))},directives:[p.t,S.c,S.g,g.a,r.o,b.a,r.c,r.i,r.b,r.k,r.n,l.a,w.a,d.H,d.s,d.j,d.c,d.r,d.h,S.b,A.b,r.h,T.a,r.a,b.b,r.j,r.m],styles:["mat-list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;padding:.5rem}mat-table[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%}mat-progress-spinner[_ngcontent-%COMP%]{margin:1rem auto}"]}),e})()}];let N=(()=>{class e{}return e.\u0275mod=a.Lb({type:e}),e.\u0275inj=a.Kb({factory:function(t){return new(t||e)},imports:[[i.h.forChild(H)],i.h]}),e})(),_=(()=>{class e{}return e.\u0275mod=a.Lb({type:e}),e.\u0275inj=a.Kb({factory:function(t){return new(t||e)},imports:[[c.a,N]]}),e})()}}]);