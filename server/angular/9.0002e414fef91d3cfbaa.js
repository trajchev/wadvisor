(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{W8VS:function(t,e,c){"use strict";c.r(e),c.d(e,"MatchesModule",(function(){return V}));var a=c("kt0X"),n=c("snw9"),o=c("vvyD"),i=c("hGdz"),r=c("tyNb"),s=c("vhQE"),b=c("qR5Z"),h=c("fXoL"),d=c("AytR"),m=c("lJxs"),g=c("6E1o"),l=c("tk/3"),p=c("dNgK");let u=(()=>{class t{constructor(t,e){this.http=t,this._snackBar=e,this.durationInSeconds=3}getMatches(t){return this.http.get(`${d.a.ENDPOINT_API}matches/${t}`)}getMatch(t,e){return this.http.get(`${d.a.ENDPOINT_API}matches/${t}/${e}`).pipe(Object(m.a)(t=>t.data))}saveBetMatch(t,e){return this.http.post(d.a.ENDPOINT_API+"tickets/match",{ticket_id:t,match_id:e}).pipe(Object(m.a)(t=>{"success"===t.status&&this.openSnackBar()}))}getSpreads(t,e,c){return this.http.get(`${d.a.ENDPOINT_API}matches/${t}/${e}/${c}`).pipe(Object(m.a)(t=>t.data.spreads))}getTotals(t,e,c){return this.http.get(`${d.a.ENDPOINT_API}matches/${t}/${e}/${c}`).pipe(Object(m.a)(t=>t.data.totals))}openSnackBar(){this._snackBar.openFromComponent(g.a,{duration:1e3*this.durationInSeconds,data:"Added match to ticket"})}}return t.\u0275fac=function(e){return new(e||t)(h.Xb(l.b),h.Xb(p.b))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var _=c("qXBG"),f=c("ofXK"),M=c("u/C/"),O=c("0IaG"),S=c("STbY"),k=c("bTqV"),C=c("NFeN"),T=c("8IKM");function w(t,e){if(1&t&&(h.Tb(0,"button",10),h.Tb(1,"mat-icon"),h.Ec(2,"add"),h.Sb(),h.Sb()),2&t){h.ec();const t=h.qc(22);h.kc("matMenuTriggerFor",t)}}function y(t,e){if(1&t){const t=h.Ub();h.Tb(0,"a",7),h.ac("click",(function(){h.uc(t);const c=e.$implicit,a=h.ec();return a.onSaveBetMatch(c.id,a.match.id)})),h.Ec(1),h.Sb()}if(2&t){const t=e.$implicit;h.Ab(1),h.Fc(t.title)}}const v=function(t){return[t]};let P=(()=>{class t{constructor(t,e){this.matchService=t,this.dialog=e,this.durationInSeconds=2}ngOnInit(){this.getAvg()}getAvg(){let t=0,e=0,c=0;this.match.h2hs.forEach(a=>{t+=a.odds_home,e+=a.odds_draw,c+=a.odds_away}),this.avg_home=t/this.match.h2hs.length,this.avg_draw=e/this.match.h2hs.length,this.avg_away=c/this.match.h2hs.length}onSaveBetMatch(t,e){this.matchService.saveBetMatch(t,e).subscribe()}onCreateTicket(){this.dialog.open(M.a,{width:"600px"})}}return t.\u0275fac=function(e){return new(e||t)(h.Nb(u),h.Nb(O.b))},t.\u0275cmp=h.Hb({type:t,selectors:[["ba-match"]],inputs:{match:"match",tickets:"tickets",userRole:"userRole"},decls:29,vars:18,consts:[[1,"ba-container","w3-col","l3","m6","s12","w3-animate-zoom"],[1,"ba-match"],[1,"ba-match-header"],[1,"ba-match-body"],[1,"ba-match-footer"],["mat-button","","class","ba-left","title","Add to ticket","color","primary","aria-label","Betting Advisor Info",3,"matMenuTriggerFor",4,"ngIf"],["addMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-button","","title","Details","color","primary",1,"ba-right",3,"routerLink"],["mat-button","","title","Add to ticket","color","primary","aria-label","Betting Advisor Info",1,"ba-left",3,"matMenuTriggerFor"]],template:function(t,e){1&t&&(h.Tb(0,"div",0),h.Tb(1,"div",1),h.Tb(2,"header",2),h.Tb(3,"h3"),h.Ec(4),h.Tb(5,"span"),h.Ec(6),h.Sb(),h.Sb(),h.Tb(7,"p"),h.Ec(8,"VS"),h.Sb(),h.Tb(9,"h3"),h.Ec(10),h.Tb(11,"span"),h.Ec(12),h.Sb(),h.Sb(),h.Sb(),h.Tb(13,"div",3),h.Tb(14,"p"),h.Ec(15,"Match starts @ "),h.Tb(16,"strong"),h.Ec(17),h.fc(18,"msToDate"),h.Sb(),h.Sb(),h.Sb(),h.Tb(19,"footer",4),h.Cc(20,w,3,1,"button",5),h.Tb(21,"mat-menu",null,6),h.Tb(23,"a",7),h.ac("click",(function(){return e.onCreateTicket()})),h.Ec(24,"Create New Ticket"),h.Sb(),h.Cc(25,y,2,1,"a",8),h.Sb(),h.Tb(26,"a",9),h.Tb(27,"mat-icon"),h.Ec(28,"list_alt"),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&t&&(h.Ab(4),h.Fc(e.match.home_team),h.Ab(1),h.Cb(e.avg_home>e.avg_away?"loss":"win"),h.Ab(1),h.Fc(e.avg_home>e.avg_away?"Loss":"Win"),h.Ab(4),h.Fc(e.match.away_team),h.Ab(1),h.Cb(e.avg_home>e.avg_away?"win":"loss"),h.Ab(1),h.Fc(e.avg_home>e.avg_away?"Win":"Loss"),h.Ab(5),h.Fc(h.gc(18,14,e.match.commence_time)),h.Ab(3),h.kc("ngIf","pro"==e.userRole),h.Ab(5),h.kc("ngForOf",e.tickets),h.Ab(1),h.kc("routerLink",h.nc(16,v,e.match.id)))},directives:[f.t,S.e,S.b,f.s,k.a,r.g,C.a,k.b,S.d],pipes:[T.a],styles:[".ba-green[_ngcontent-%COMP%]{background-color:#248e38}.ba-green-pale[_ngcontent-%COMP%]{background-color:#abdca7}.ba-green-tint[_ngcontent-%COMP%]{background-color:#54c479}.ba-gold[_ngcontent-%COMP%]{background-color:#afd91a}.ba-gray[_ngcontent-%COMP%]{background-color:#444}.ba-gray-pale[_ngcontent-%COMP%]{background-color:#eee}.ba-gray-tint[_ngcontent-%COMP%]{background-color:#777}.ba-container[_ngcontent-%COMP%]{padding:.5rem}.ba-match[_ngcontent-%COMP%]{box-shadow:0 0 1rem 1px #abdca7}.ba-match-header[_ngcontent-%COMP%]{text-align:center;padding:1rem}.ba-match-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{position:relative;font-family:Noto,sans-serif;font-size:.8rem;color:#248e38;width:100%;margin:0}.ba-match-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;right:0;font-size:.6rem;line-height:1.4rem;font-weight:700}.ba-match-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]{color:#248e38}.ba-match-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .loss[_ngcontent-%COMP%]{color:red}.ba-match-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:italic;font-weight:700;color:#444;margin:.5rem}.ba-match-body[_ngcontent-%COMP%]{text-align:center}.ba-match-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.6rem;color:#777;margin-top:0}.ba-match-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#000}.ba-match-footer[_ngcontent-%COMP%]{border-top:1px solid #eee;padding:.5rem;height:3.4rem}"]}),t})();function A(t,e){1&t&&(h.Tb(0,"div",4),h.Tb(1,"h6"),h.Ec(2,"No active matches in this league"),h.Sb(),h.Sb())}function E(t,e){if(1&t&&(h.Ob(0,"ba-match",5),h.fc(1,"async")),2&t){const t=e.$implicit,c=h.ec();h.kc("userRole",c.userRole)("match",t)("tickets",h.gc(1,3,c.tickets$))}}let F=(()=>{class t{constructor(t,e,c,a){this.matchService=t,this.route=e,this.store=c,this.authService=a,this.noMatches=!1,this.userRole=this.authService.getLevel()}ngOnInit(){"pro"==this.userRole&&(this.store.dispatch(new b.g),this.tickets$=this.store.pipe(Object(a.q)(s.b)),this.errorMessage$=this.store.pipe(Object(a.q)(s.a))),this.route.params.subscribe(t=>{this.getMatches(t.league)})}getMatches(t){this.matchService.getMatches(t).subscribe(t=>{this.noMatches=!1,this.matches=t.data,0==t.data.length&&(this.noMatches=!0)})}}return t.\u0275fac=function(e){return new(e||t)(h.Nb(u),h.Nb(r.a),h.Nb(a.h),h.Nb(_.a))},t.\u0275cmp=h.Hb({type:t,selectors:[["ba-matches"]],decls:4,vars:2,consts:[[1,"ba-content"],[1,"w3-row"],["class","w3-panel w3-pale-yellow w3-border",4,"ngIf"],[3,"userRole","match","tickets",4,"ngFor","ngForOf"],[1,"w3-panel","w3-pale-yellow","w3-border"],[3,"userRole","match","tickets"]],template:function(t,e){1&t&&(h.Tb(0,"div",0),h.Tb(1,"div",1),h.Cc(2,A,3,0,"div",2),h.Cc(3,E,2,5,"ba-match",3),h.Sb(),h.Sb()),2&t&&(h.Ab(2),h.kc("ngIf",e.noMatches),h.Ab(1),h.kc("ngForOf",e.matches))},directives:[f.t,f.s,P],pipes:[f.b],styles:[""]}),t})();var I=c("wZkO");function N(t,e){if(1&t&&(h.Tb(0,"p"),h.Ec(1,"Draw "),h.Tb(2,"span",6),h.Ec(3),h.fc(4,"number"),h.Sb(),h.Sb()),2&t){const t=h.ec().$implicit;h.Ab(3),h.Fc(h.hc(4,1,t.odds_draw,".2"))}}function $(t,e){if(1&t&&(h.Tb(0,"p"),h.Tb(1,"span",5),h.Ec(2),h.Sb(),h.Ec(3," points "),h.Tb(4,"span",6),h.Ec(5),h.fc(6,"number"),h.Sb(),h.Sb()),2&t){const t=h.ec().$implicit,e=h.ec();h.Ab(2),h.Fc(e.home_team),h.Ab(3),h.Fc(h.hc(6,2,t.points_home,".2"))}}function R(t,e){if(1&t&&(h.Tb(0,"p"),h.Tb(1,"span",5),h.Ec(2),h.Sb(),h.Ec(3," points"),h.Tb(4,"span",6),h.Ec(5),h.fc(6,"number"),h.Sb(),h.Sb()),2&t){const t=h.ec().$implicit,e=h.ec();h.Ab(2),h.Fc(e.away_team),h.Ab(3),h.Fc(h.hc(6,2,t.points_away,".2"))}}function B(t,e){if(1&t&&(h.Tb(0,"div",3),h.Tb(1,"div",4),h.Tb(2,"p"),h.Tb(3,"span",5),h.Ec(4),h.Sb(),h.Ec(5," odds "),h.Tb(6,"span",6),h.Ec(7),h.fc(8,"number"),h.Sb(),h.Sb(),h.Cc(9,N,5,4,"p",7),h.Tb(10,"p"),h.Tb(11,"span",5),h.Ec(12),h.Sb(),h.Ec(13," odds "),h.Tb(14,"span",6),h.Ec(15),h.fc(16,"number"),h.Sb(),h.Sb(),h.Cc(17,$,7,5,"p",7),h.Cc(18,R,7,5,"p",7),h.Tb(19,"h3"),h.Ec(20),h.Sb(),h.Sb(),h.Sb()),2&t){const t=e.$implicit,c=h.ec();h.Ab(4),h.Fc(c.match.home_team||c.home_team),h.Ab(3),h.Fc(h.hc(8,8,t.odds_home,".2")),h.Ab(2),h.kc("ngIf",t.odds_draw),h.Ab(3),h.Fc(c.match.away_team||c.away_team),h.Ab(3),h.Fc(h.hc(16,11,t.odds_away,".2")),h.Ab(2),h.kc("ngIf",t.points_home),h.Ab(1),h.kc("ngIf",t.points_away),h.Ab(2),h.Fc(t.site.name)}}let j=(()=>{class t{constructor(t){this.matchService=t}ngOnInit(){"h2hs"!==this.odd_type&&this.fetchOdds()}fetchOdds(){this.matchService.getSpreads(this.key,this.id,this.odd_type).subscribe(t=>{this.odds=t})}}return t.\u0275fac=function(e){return new(e||t)(h.Nb(u))},t.\u0275cmp=h.Hb({type:t,selectors:[["ba-card"]],inputs:{odd_type:"odd_type",id:"id",key:"key",home_team:"home_team",away_team:"away_team",odds:"odds",match:"match"},decls:3,vars:1,consts:[[1,"ba-card-wrapper"],[1,"w3-row"],["class","w3-col m3",4,"ngFor","ngForOf"],[1,"w3-col","m3"],[1,"w3-card","w3-padding"],[1,"ba-left"],[1,"ba-right"],[4,"ngIf"]],template:function(t,e){1&t&&(h.Tb(0,"div",0),h.Tb(1,"div",1),h.Cc(2,B,21,14,"div",2),h.Sb(),h.Sb()),2&t&&(h.Ab(2),h.kc("ngForOf",e.odds))},directives:[f.s,f.t],pipes:[f.g],styles:[".ba-green[_ngcontent-%COMP%]{background-color:#248e38}.ba-green-pale[_ngcontent-%COMP%]{background-color:#abdca7}.ba-green-tint[_ngcontent-%COMP%]{background-color:#54c479}.ba-gold[_ngcontent-%COMP%]{background-color:#afd91a}.ba-gray[_ngcontent-%COMP%]{background-color:#444}.ba-gray-pale[_ngcontent-%COMP%]{background-color:#eee}.ba-gray-tint[_ngcontent-%COMP%]{background-color:#777}.w3-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;color:#abdca7}.w3-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#777;margin:.5rem 0;font-size:.8rem}.w3-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .ba-right[_ngcontent-%COMP%]{color:#444;font-weight:700;text-align:right}.w3-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .ba-left[_ngcontent-%COMP%]{color:#248e38}"]}),t})();function x(t,e){if(1&t){const t=h.Ub();h.Tb(0,"a",14),h.ac("click",(function(){h.uc(t);const c=e.$implicit,a=h.ec(3);return a.onSaveBetMatch(c.id,a.match.id)})),h.Ec(1),h.Sb()}if(2&t){const t=e.$implicit;h.Ab(1),h.Fc(t.title)}}function D(t,e){if(1&t){const t=h.Ub();h.Tb(0,"span"),h.Tb(1,"button",12),h.Tb(2,"mat-icon"),h.Ec(3,"add"),h.Sb(),h.Sb(),h.Tb(4,"mat-menu",null,13),h.Tb(6,"a",14),h.ac("click",(function(){return h.uc(t),h.ec(2).onCreateTicket()})),h.Ec(7,"Create a ticket"),h.Sb(),h.Cc(8,x,2,1,"a",15),h.fc(9,"async"),h.Sb(),h.Sb()}if(2&t){const t=h.qc(5),e=h.ec(2);h.Ab(1),h.kc("matMenuTriggerFor",t),h.Ab(7),h.kc("ngForOf",h.gc(9,2,e.tickets$))}}function q(t,e){if(1&t&&h.Ob(0,"ba-card",16),2&t){const t=h.ec(2);h.kc("odd_type","h2hs")("match",t.match)("odds",t.match.h2hs)}}function L(t,e){if(1&t&&h.Ob(0,"ba-card",17),2&t){const t=h.ec(2);h.kc("odd_type","spreads")("home_team",t.match.home_team)("away_team",t.match.away_team)("id",t.match.id)("key",t.match.sport_key)}}function H(t,e){if(1&t&&h.Ob(0,"ba-card",17),2&t){const t=h.ec(2);h.kc("odd_type","totals")("home_team",t.match.home_team)("away_team",t.match.away_team)("id",t.match.id)("key",t.match.sport_key)}}function z(t,e){if(1&t&&(h.Tb(0,"div",2),h.Tb(1,"h1",3),h.Ec(2),h.Tb(3,"strong"),h.Ec(4," VS "),h.Sb(),h.Ec(5),h.Sb(),h.Tb(6,"div",4),h.Tb(7,"header"),h.Cc(8,D,10,4,"span",5),h.Tb(9,"p"),h.Ec(10,"Home Team: "),h.Tb(11,"span",6),h.Ec(12),h.Sb(),h.Sb(),h.Tb(13,"p"),h.Ec(14,"Away Team: "),h.Tb(15,"span",6),h.Ec(16),h.Sb(),h.Sb(),h.Tb(17,"p"),h.Ec(18,"Match begins at: "),h.Tb(19,"span",6),h.Ec(20),h.fc(21,"msToDate"),h.Sb(),h.Sb(),h.Sb(),h.Tb(22,"mat-tab-group",7),h.Tb(23,"mat-tab",8),h.Cc(24,q,1,3,"ng-template",9),h.Sb(),h.Tb(25,"mat-tab",10),h.Cc(26,L,1,5,"ng-template",9),h.Sb(),h.Tb(27,"mat-tab",11),h.Cc(28,H,1,5,"ng-template",9),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&t){const t=h.ec();h.Ab(2),h.Gc("",t.match.home_team," "),h.Ab(3),h.Gc(" ",t.match.away_team,""),h.Ab(3),h.kc("ngIf","pro"==t.userRole),h.Ab(4),h.Fc(t.match.home_team),h.Ab(4),h.Fc(t.match.away_team),h.Ab(4),h.Fc(h.gc(21,8,t.match.commence_time)),h.Ab(5),h.kc("disabled","pro"!==t.userRole&&"admin"!==t.userRole),h.Ab(2),h.kc("disabled","pro"!==t.userRole&&"admin"!==t.userRole)}}const X=[{path:":league",component:F},{path:":league/:matchId",component:(()=>{class t{constructor(t,e,c,a,n){this.matchService=t,this.authService=e,this.route=c,this.store=a,this.dialog=n,this.durationInSeconds=3,this.userRole=this.authService.getLevel()}ngOnInit(){this.store.dispatch(new b.g),"pro"===this.userRole&&(this.tickets$=this.store.pipe(Object(a.q)(s.b))),this.errorMessage$=this.store.pipe(Object(a.q)(s.a)),this.getMatch(this.route.snapshot.params.league,+this.route.snapshot.params.matchId)}getMatch(t,e){this.matchService.getMatch(t,e).subscribe(t=>this.match=t)}onSaveBetMatch(t,e){this.matchService.saveBetMatch(t,e).subscribe()}onCreateTicket(){this.dialog.open(M.a,{width:"94%",maxWidth:"600px"})}}return t.\u0275fac=function(e){return new(e||t)(h.Nb(u),h.Nb(_.a),h.Nb(r.a),h.Nb(a.h),h.Nb(O.b))},t.\u0275cmp=h.Hb({type:t,selectors:[["ba-match-details"]],decls:2,vars:1,consts:[[1,"ba-content"],["class","w3-row",4,"ngIf"],[1,"w3-row"],[1,"w3-center"],[1,"w3-card","details"],[4,"ngIf"],[1,"info"],["animationDuration","0ms","mat-stretch-tabs","","mat-align-tabs","end"],["label","H2H"],["matTabContent",""],["label","Spreads",3,"disabled"],["label","Totals",3,"disabled"],["mat-button","","title","Add to ticket","color","primary","aria-label","Betting Advisor Info",1,"ba-right",3,"matMenuTriggerFor"],["addMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[3,"odd_type","match","odds"],[3,"odd_type","home_team","away_team","id","key"]],template:function(t,e){1&t&&(h.Tb(0,"div",0),h.Cc(1,z,29,10,"div",1),h.Sb()),2&t&&(h.Ab(1),h.kc("ngIf",e.match))},directives:[f.t,I.c,I.a,I.b,k.b,S.d,C.a,S.e,S.b,f.s,j],pipes:[T.a,f.b],styles:[".ba-green[_ngcontent-%COMP%]{background-color:#248e38}.ba-green-pale[_ngcontent-%COMP%]{background-color:#abdca7}.ba-green-tint[_ngcontent-%COMP%]{background-color:#54c479}.ba-gold[_ngcontent-%COMP%]{background-color:#afd91a}.ba-gray[_ngcontent-%COMP%]{background-color:#444}.ba-gray-pale[_ngcontent-%COMP%]{background-color:#eee}.ba-gray-tint[_ngcontent-%COMP%]{background-color:#777}h1[_ngcontent-%COMP%]{color:#248e38;margin:3rem 0}h1[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#000;font-style:italic;font-weight:700}.details[_ngcontent-%COMP%]{padding:.5rem 1rem}.details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#444;font-style:italic}.details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{color:#248e38;font-style:normal}"]}),t})()}];let G=(()=>{class t{}return t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({factory:function(e){return new(e||t)},imports:[[r.h.forChild(X)],r.h]}),t})();var K=c("bS68"),J=c("5tNe");let V=(()=>{class t{}return t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({factory:function(e){return new(e||t)},imports:[[G,i.a,o.a,a.j.forFeature("tickets",K.a),n.c.forFeature([J.a])]]}),t})()}}]);