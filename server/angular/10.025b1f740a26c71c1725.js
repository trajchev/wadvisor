(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+j9s":function(t,e,c){"use strict";c.r(e),c.d(e,"TicketsModule",(function(){return ct}));var i=c("kt0X"),n=c("snw9"),o=c("vhQE"),a=c("qR5Z"),r=c("fXoL"),s=c("ofXK"),b=c("0IaG"),l=c("55i6"),d=c("tyNb");function g(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div",9),r.Ob(1,"ba-betmatch",10),r.Tb(2,"button",11),r.ac("click",(function(){r.sc(t);const c=e.$implicit;return r.ec(3).onDelete(c.id)})),r.Bc(3,"\xd7"),r.Sb(),r.Sb()}if(2&t){const t=e.$implicit;r.Ab(1),r.jc("match",t)}}function m(t,e){if(1&t&&(r.Tb(0,"div",7),r.Ac(1,g,4,1,"div",8),r.Sb()),2&t){const t=r.ec(2);r.Ab(1),r.jc("ngForOf",t.ticket.betmatches)}}function h(t,e){1&t&&(r.Tb(0,"p"),r.Bc(1,"There are no matches in this ticket"),r.Sb())}function p(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div",1),r.Tb(1,"header",2),r.Tb(2,"button",3),r.ac("click",(function(){return r.sc(t),r.ec().onCloseDialog()})),r.Bc(3,"\xd7"),r.Sb(),r.Tb(4,"h3"),r.Bc(5),r.Sb(),r.Tb(6,"p"),r.Bc(7),r.Sb(),r.Sb(),r.Tb(8,"div",4),r.Ac(9,m,2,1,"div",5),r.Sb(),r.Ac(10,h,2,0,"p",6),r.Sb()}if(2&t){const t=r.ec();r.Ab(5),r.Cc(t.ticket.title),r.Ab(2),r.Cc(t.ticket.description),r.Ab(2),r.jc("ngIf",t.ticket.betmatches.length>0),r.Ab(1),r.jc("ngIf",0===t.ticket.betmatches.length)}}let f=(()=>{class t{constructor(t,e,c,i){this.ticketService=t,this.dialogRef=e,this.data=c,this.router=i,this.getTicket(this.data.ticketId)}ngOnInit(){}getTicket(t){this.ticketService.getTicket(t).subscribe(t=>{this.ticket=t.data})}onCloseDialog(){this.dialogRef.close()}onDelete(t){this.ticketService.deleteBetMatch(t).subscribe(e=>this.ticket.betmatches=this.ticket.betmatches.filter(e=>e.id!==t))}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(l.a),r.Nb(b.h),r.Nb(b.a),r.Nb(d.d))},t.\u0275cmp=r.Hb({type:t,selectors:[["ba-ticket-details"]],decls:1,vars:1,consts:[["class","ba-ticket",4,"ngIf"],[1,"ba-ticket"],[1,"ba-ticket-header"],["mat-button","","color","accent","title","Close",1,"ba-right",3,"click"],[1,"ba-ticket-body"],["class","ba-ticket-content",4,"ngIf"],[4,"ngIf"],[1,"ba-ticket-content"],["class","ba-ticket-crumb",4,"ngFor","ngForOf"],[1,"ba-ticket-crumb"],[3,"match"],["mat-button","","color","accent","title","Remove match from ticket",1,"ba-remove",3,"click"]],template:function(t,e){1&t&&r.Ac(0,p,11,4,"div",0),2&t&&r.jc("ngIf",e.ticket)},styles:[".ba-ticket-header[_ngcontent-%COMP%]{position:relative;text-align:center;padding:1rem}.ba-ticket-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;color:#248e38;margin:0}.ba-ticket-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;font-style:italic;color:#777;margin:.5rem}.ba-ticket-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:-1rem;right:-1rem}.ba-ticket-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;color:#777;margin-top:0}.ba-ticket-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#000}.ba-ticket-content[_ngcontent-%COMP%]{padding:0 .5rem .5rem;max-height:80vh;overflow:auto}.ba-ticket-crumb[_ngcontent-%COMP%]{position:relative;padding:.5rem;border:1px solid #eee}.ba-remove[_ngcontent-%COMP%]{position:absolute;right:0;top:0;padding:0;min-width:2rem}"]}),t})();var u=c("bTqV");let k=(()=>{class t{constructor(t,e,c){this.confirmationRef=t,this.data=e,this.store=c,this.message=null,this.isLoading=!1}ngOnInit(){}deleteTicket(){this.store.dispatch(new a.d(this.data.ticketId)),this.confirmationRef.close()}onCloseDialog(){this.confirmationRef.close()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(b.h),r.Nb(b.a),r.Nb(i.h))},t.\u0275cmp=r.Hb({type:t,selectors:[["ba-confirmation"]],decls:11,vars:3,consts:[[1,"ba-ticket"],[1,"ba-ticket-header"],[1,"ba-ticket-footer"],["mat-button","","title","Close dialog","color","primary",3,"click"],["mat-button","","color","accent",1,"right",3,"title","click"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"header",1),r.Tb(2,"h3"),r.Bc(3),r.Sb(),r.Tb(4,"p"),r.Bc(5),r.Sb(),r.Sb(),r.Tb(6,"footer",2),r.Tb(7,"button",3),r.ac("click",(function(){return e.onCloseDialog()})),r.Bc(8,"No"),r.Sb(),r.Tb(9,"button",4),r.ac("click",(function(){return e.deleteTicket()})),r.Bc(10,"Yes"),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(3),r.Dc(" ",e.data.title," "),r.Ab(2),r.Cc(e.data.message),r.Ab(4),r.kc("title",e.data.title))},directives:[u.b],styles:[".ba-ticket-header[_ngcontent-%COMP%]{text-align:center;padding:1rem}.ba-ticket-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:500;font-size:1.2rem;color:#444;margin:0}.ba-ticket-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:italic;color:#777;margin:.5rem}.ba-ticket-footer[_ngcontent-%COMP%]{padding:.5rem}.ba-ticket-footer[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{float:right}"]}),t})();var C=c("NFeN"),T=c("b/j1");let M=(()=>{class t{constructor(t){this.dialog=t}ngOnInit(){}openDialog(){this.dialog.open(f,{width:"90%",maxWidth:"500px",data:{ticketId:this.ticket.id}})}openConfirmationDialog(){this.dialog.open(k,{width:"260px",data:{ticketId:this.ticket.id,title:"Delete ticket?",message:"Are you sure you want to delete this ticket?"}})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(b.b))},t.\u0275cmp=r.Hb({type:t,selectors:[["ba-ticket"]],inputs:{ticket:"ticket"},decls:20,vars:5,consts:[[1,"ba-container","w3-col","l4","m6","s12","w3-animate-zoom"],[1,"ba-ticket"],[1,"ba-ticket-header"],[1,"ba-ticket-body"],[1,"ba-ticket-footer"],["mat-button","","title","Ticket details","color","primary",1,"ba-left",3,"click"],["mat-button","","title","Delete ticket","color","accent",1,"ba-right",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"header",2),r.Tb(3,"h3"),r.Bc(4),r.Sb(),r.Tb(5,"p"),r.Bc(6),r.Sb(),r.Sb(),r.Tb(7,"div",3),r.Tb(8,"p"),r.Bc(9,"ticket created @ "),r.Tb(10,"strong"),r.Bc(11),r.fc(12,"strToDate"),r.Sb(),r.Sb(),r.Sb(),r.Tb(13,"footer",4),r.Tb(14,"a",5),r.ac("click",(function(){return e.openDialog()})),r.Tb(15,"mat-icon"),r.Bc(16,"list_alt"),r.Sb(),r.Sb(),r.Tb(17,"a",6),r.ac("click",(function(){return e.openConfirmationDialog()})),r.Tb(18,"mat-icon"),r.Bc(19,"delete"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(4),r.Cc(e.ticket.title),r.Ab(2),r.Cc(e.ticket.description),r.Ab(5),r.Cc(r.gc(12,3,e.ticket.createdAt)))},directives:[u.a,C.a],pipes:[T.a],styles:[".ba-container[_ngcontent-%COMP%]{padding:.5rem}.ba-ticket[_ngcontent-%COMP%]{box-shadow:0 0 1rem 1px #abdca7}.ba-ticket-header[_ngcontent-%COMP%]{text-align:center;padding:1rem}.ba-ticket-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;color:#248e38;margin:0}.ba-ticket-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:italic;font-size:.8rem;color:#444;margin:.5rem}.ba-ticket-body[_ngcontent-%COMP%]{text-align:center}.ba-ticket-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;color:#777;margin-top:0}.ba-ticket-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#000}.ba-ticket-footer[_ngcontent-%COMP%]{border-top:1px solid #eee;padding:.5rem}"]}),t})();function O(t,e){1&t&&r.Ob(0,"ba-ticket",3),2&t&&r.jc("ticket",e.$implicit)}let S=(()=>{class t{constructor(t){this.store=t,this.pageTitle="Tickets",this.noTickets=!1,this.componentActive=!0}ngOnInit(){this.store.dispatch(new a.g),this.tickets$=this.store.pipe(Object(i.q)(o.b)),this.errorMessage$=this.store.pipe(Object(i.q)(o.a))}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(i.h))},t.\u0275cmp=r.Hb({type:t,selectors:[["ba-tickets"]],decls:4,vars:3,consts:[[1,"ba-content"],[1,"w3-row"],[3,"ticket",4,"ngFor","ngForOf"],[3,"ticket"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Ac(2,O,1,1,"ba-ticket",2),r.fc(3,"async"),r.Sb(),r.Sb()),2&t&&(r.Ab(2),r.jc("ngForOf",r.gc(3,1,e.tickets$)))},directives:[s.s,M],pipes:[s.b],styles:[""]}),t})();var v=c("hGdz");const _=[{path:":id",component:f},{path:"",component:S,pathMatch:"full"}];let P=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[d.h.forChild(_)],d.h]}),t})();var w=c("bS68"),y=c("5tNe"),A=c("3Pt+"),j=c("Xa2L"),I=c("kmnG"),B=c("qFsG"),D=c("8IKM");function F(t,e){if(1&t&&(r.Tb(0,"span",5),r.Bc(1),r.Sb()),2&t){const t=r.ec();r.Ab(1),r.Cc(t.match.tip)}}function N(t,e){if(1&t){const t=r.Ub();r.Tb(0,"button",6),r.ac("click",(function(){return r.sc(t),r.ec().onEdit()})),r.Bc(1),r.Sb()}if(2&t){const t=r.ec();r.Ab(1),r.Cc(t.match.tip?"Edit":"Add prediction")}}function x(t,e){1&t&&r.Ob(0,"mat-progress-spinner",7)}function L(t,e){if(1&t){const t=r.Ub();r.Tb(0,"form",8),r.ac("ngSubmit",(function(){return r.sc(t),r.ec().onSave()})),r.Tb(1,"mat-form-field"),r.Tb(2,"mat-label"),r.Bc(3,"Yor prediction"),r.Sb(),r.Ob(4,"input",9),r.Tb(5,"mat-error"),r.Bc(6,"Please provide a valid prediction"),r.Sb(),r.Sb(),r.Tb(7,"button",10),r.Bc(8,"Save"),r.Sb(),r.Sb()}if(2&t){const t=r.ec();r.jc("formGroup",t.betmatchForm),r.Ab(7),r.jc("disabled",t.betmatchForm.invalid)}}let z=(()=>{class t{constructor(t,e,c){this.router=t,this.dialogRef=e,this.ticketService=c,this.editMode=!1,this.isLoading=!1,this.errorMessage=null}ngOnInit(){this.betmatchForm=new A.i({tip:new A.f(null,[A.F.required,A.F.minLength(1),A.F.maxLength(4)])})}navigateToMatch(t,e){this.onCloseDialog(),this.router.navigate([`/matches/${t}/${e}`])}onEdit(){this.editMode=!0}onSave(){if(this.betmatchForm.invalid)return;this.isLoading=!0;const t=this.betmatchForm.value.tip;this.ticketService.updateTicket(this.match.id,t).subscribe(e=>{"success"===e.status?this.match.tip=t:this.errorMessage="Something went wrong, please try again later",this.isLoading=!1}),this.editMode=!1}onCloseDialog(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(d.d),r.Nb(b.h),r.Nb(l.a))},t.\u0275cmp=r.Hb({type:t,selectors:[["ba-betmatch"]],inputs:{match:"match"},decls:12,vars:9,consts:[[3,"click"],["class","w3-badge w3-animate-left w3-margin-right",4,"ngIf"],["mat-button","","color","primary",3,"click",4,"ngIf"],["color","primary","mode","indeterminate",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"w3-badge","w3-animate-left","w3-margin-right"],["mat-button","","color","primary",3,"click"],["color","primary","mode","indeterminate"],[3,"formGroup","ngSubmit"],["matInput","","formControlName","tip","placeholder","Ex. 1X"],["mat-button","","type","submit","color","primary",1,"w3-right",3,"disabled"]],template:function(t,e){1&t&&(r.Tb(0,"h6",0),r.ac("click",(function(){return e.navigateToMatch(e.match.match.sport_key,e.match.match_id)})),r.Bc(1),r.Tb(2,"strong"),r.Bc(3,"VS"),r.Sb(),r.Bc(4),r.Sb(),r.Ac(5,F,2,1,"span",1),r.Ac(6,N,2,1,"button",2),r.Ac(7,x,1,0,"mat-progress-spinner",3),r.Ac(8,L,9,2,"form",4),r.Tb(9,"p"),r.Bc(10),r.fc(11,"msToDate"),r.Sb()),2&t&&(r.Ab(1),r.Dc("",e.match.match.home_team," "),r.Ab(3),r.Dc(" ",e.match.match.away_team,""),r.Ab(1),r.jc("ngIf",e.match.tip),r.Ab(1),r.jc("ngIf",!e.editMode),r.Ab(1),r.jc("ngIf",e.isLoading),r.Ab(1),r.jc("ngIf",e.editMode&&!e.isLoading),r.Ab(2),r.Dc("Match start @ ",r.gc(11,7,e.match.match.commence_time),""))},directives:[s.t,u.b,j.a,A.H,A.s,A.j,I.c,I.g,B.a,A.c,A.r,A.h,I.b],pipes:[D.a],styles:["h6[_ngcontent-%COMP%]{color:#54c479;cursor:pointer}h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{padding:0;margin:.1rem}p[_ngcontent-%COMP%]{color:#777}span[_ngcontent-%COMP%]{background-color:#afd91a}mat-progress-spinner[_ngcontent-%COMP%]{margin:1rem auto}"]}),t})();var R=c("j/Fd"),G=c("Wp6s"),E=c("cH1L"),H=c("ihCf"),$=c("8yBR"),q=c("/t3+"),K=c("vxfF"),X=c("STbY"),U=c("wZkO"),V=c("dNgK"),Y=c("bSwM"),J=c("+0xr"),W=c("M9IT"),Z=c("Dh3D"),Q=c("FdVP"),tt=c("6E1o"),et=c("u/C/");let ct=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[v.a,P,i.j.forFeature("tickets",w.a),n.c.forFeature([y.a])]]}),t})();r.vc(f,[d.i,d.e,d.g,d.f,d.j,s.q,s.r,s.s,s.t,s.A,s.w,s.x,s.y,s.z,s.u,s.v,A.H,A.w,A.G,A.c,A.x,A.A,A.a,A.D,A.E,A.z,A.r,A.s,A.C,A.n,A.m,A.y,A.b,A.d,A.u,A.v,A.t,A.g,A.j,A.h,A.k,A.e,R.a,G.a,G.f,G.n,G.d,G.m,G.l,G.b,G.e,G.k,G.i,G.h,G.g,G.o,G.c,E.b,u.b,u.a,H.b,H.c,I.b,I.c,I.f,I.g,I.h,I.i,I.j,B.a,B.c,C.a,j.a,j.c,$.a,$.g,$.i,$.j,$.b,$.f,$.h,q.a,q.c,K.a,X.e,X.b,X.d,X.a,U.c,U.d,U.a,U.f,U.e,U.b,b.e,b.d,b.i,b.f,b.c,V.c,Y.a,Y.c,J.o,J.i,J.k,J.c,J.b,J.n,J.e,J.g,J.h,J.a,J.d,J.j,J.m,J.f,J.l,J.r,W.a,Z.a,Z.b,Q.a,k,tt.a,et.a,S,M,f,z],[s.b,s.G,s.p,s.k,s.E,s.g,s.C,s.F,s.d,s.f,s.i,s.j,s.l,D.a,T.a])}}]);