(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+j9s":function(t,e,n){"use strict";n.r(e),n.d(e,"TicketsModule",(function(){return at}));var c=n("kt0X"),o=n("snw9"),i=n("vhQE"),a=n("qR5Z"),r=n("fXoL"),b=n("ofXK"),s=n("0IaG"),g=n("55i6"),d=n("tyNb");function l(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div",9),r.Ob(1,"ba-betmatch",10),r.Tb(2,"button",11),r.ac("click",(function(){r.uc(t);const n=e.$implicit;return r.ec(3).onDelete(n.id)})),r.Ec(3,"\xd7"),r.Sb(),r.Sb()}if(2&t){const t=e.$implicit;r.Ab(1),r.kc("match",t)}}function m(t,e){if(1&t&&(r.Tb(0,"div",7),r.Cc(1,l,4,1,"div",8),r.Sb()),2&t){const t=r.ec(2);r.Ab(1),r.kc("ngForOf",t.ticket.betmatches)}}function h(t,e){1&t&&(r.Tb(0,"p"),r.Ec(1,"There are no matches in this ticket"),r.Sb())}function u(t,e){if(1&t){const t=r.Ub();r.Tb(0,"div",1),r.Tb(1,"header",2),r.Tb(2,"button",3),r.ac("click",(function(){return r.uc(t),r.ec().onCloseDialog()})),r.Ec(3,"\xd7"),r.Sb(),r.Tb(4,"h3"),r.Ec(5),r.Sb(),r.Tb(6,"p"),r.Ec(7),r.Sb(),r.Sb(),r.Tb(8,"div",4),r.Cc(9,m,2,1,"div",5),r.Sb(),r.Cc(10,h,2,0,"p",6),r.Sb()}if(2&t){const t=r.ec();r.Ab(5),r.Fc(t.ticket.title),r.Ab(2),r.Fc(t.ticket.description),r.Ab(2),r.kc("ngIf",t.ticket.betmatches.length>0),r.Ab(1),r.kc("ngIf",0===t.ticket.betmatches.length)}}let k=(()=>{class t{constructor(t,e,n,c){this.ticketService=t,this.dialogRef=e,this.data=n,this.router=c,this.getTicket(this.data.ticketId)}ngOnInit(){}getTicket(t){this.ticketService.getTicket(t).subscribe(t=>{this.ticket=t.data})}onCloseDialog(){this.dialogRef.close()}onDelete(t){this.ticketService.deleteBetMatch(t).subscribe(e=>this.ticket.betmatches=this.ticket.betmatches.filter(e=>e.id!==t))}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(g.a),r.Nb(s.h),r.Nb(s.a),r.Nb(d.d))},t.\u0275cmp=r.Hb({type:t,selectors:[["ba-ticket-details"]],decls:1,vars:1,consts:[["class","ba-ticket",4,"ngIf"],[1,"ba-ticket"],[1,"ba-ticket-header"],["mat-button","","color","accent","title","Close",1,"ba-right",3,"click"],[1,"ba-ticket-body"],["class","ba-ticket-content",4,"ngIf"],[4,"ngIf"],[1,"ba-ticket-content"],["class","ba-ticket-crumb",4,"ngFor","ngForOf"],[1,"ba-ticket-crumb"],[3,"match"],["mat-button","","color","accent","title","Remove match from ticket",1,"ba-remove",3,"click"]],template:function(t,e){1&t&&r.Cc(0,u,11,4,"div",0),2&t&&r.kc("ngIf",e.ticket)},styles:[".ba-green[_ngcontent-%COMP%]{background-color:#248e38}.ba-green-pale[_ngcontent-%COMP%]{background-color:#abdca7}.ba-green-tint[_ngcontent-%COMP%]{background-color:#54c479}.ba-gold[_ngcontent-%COMP%]{background-color:#afd91a}.ba-gray[_ngcontent-%COMP%]{background-color:#444}.ba-gray-pale[_ngcontent-%COMP%]{background-color:#eee}.ba-gray-tint[_ngcontent-%COMP%]{background-color:#777}.ba-ticket-header[_ngcontent-%COMP%]{position:relative;text-align:center;padding:1rem}.ba-ticket-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;color:#248e38;margin:0}.ba-ticket-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;font-style:italic;color:#777;margin:.5rem}.ba-ticket-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:-1rem;right:-1rem}.ba-ticket-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;color:#777;margin-top:0}.ba-ticket-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#000}.ba-ticket-content[_ngcontent-%COMP%]{padding:0 .5rem .5rem;max-height:80vh;overflow:auto}.ba-ticket-crumb[_ngcontent-%COMP%]{position:relative;padding:.5rem;border:1px solid #eee}.ba-remove[_ngcontent-%COMP%]{position:absolute;right:0;top:0;padding:0;min-width:2rem}"]}),t})();var p=n("5/u8"),f=n("bTqV"),C=n("NFeN"),M=n("b/j1");let O=(()=>{class t{constructor(t){this.dialog=t}ngOnInit(){}openDialog(){this.dialog.open(k,{width:"90%",maxWidth:"500px",data:{ticketId:this.ticket.id}})}openConfirmationDialog(){this.dialog.open(p.a,{width:"260px",data:{ticketId:this.ticket.id,title:"Delete ticket?",message:"Are you sure you want to delete this ticket?"}})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(s.b))},t.\u0275cmp=r.Hb({type:t,selectors:[["ba-ticket"]],inputs:{ticket:"ticket"},decls:20,vars:5,consts:[[1,"ba-container","w3-col","l4","m6","s12","w3-animate-zoom"],[1,"ba-ticket"],[1,"ba-ticket-header"],[1,"ba-ticket-body"],[1,"ba-ticket-footer"],["mat-button","","title","Ticket details","color","primary",1,"ba-left",3,"click"],["mat-button","","title","Delete ticket","color","accent",1,"ba-right",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"header",2),r.Tb(3,"h3"),r.Ec(4),r.Sb(),r.Tb(5,"p"),r.Ec(6),r.Sb(),r.Sb(),r.Tb(7,"div",3),r.Tb(8,"p"),r.Ec(9,"ticket created @ "),r.Tb(10,"strong"),r.Ec(11),r.fc(12,"strToDate"),r.Sb(),r.Sb(),r.Sb(),r.Tb(13,"footer",4),r.Tb(14,"a",5),r.ac("click",(function(){return e.openDialog()})),r.Tb(15,"mat-icon"),r.Ec(16,"list_alt"),r.Sb(),r.Sb(),r.Tb(17,"a",6),r.ac("click",(function(){return e.openConfirmationDialog()})),r.Tb(18,"mat-icon"),r.Ec(19,"delete"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(4),r.Fc(e.ticket.title),r.Ab(2),r.Fc(e.ticket.description),r.Ab(5),r.Fc(r.gc(12,3,e.ticket.createdAt)))},directives:[f.a,C.a],pipes:[M.a],styles:[".ba-green[_ngcontent-%COMP%]{background-color:#248e38}.ba-green-pale[_ngcontent-%COMP%]{background-color:#abdca7}.ba-green-tint[_ngcontent-%COMP%]{background-color:#54c479}.ba-gold[_ngcontent-%COMP%]{background-color:#afd91a}.ba-gray[_ngcontent-%COMP%]{background-color:#444}.ba-gray-pale[_ngcontent-%COMP%]{background-color:#eee}.ba-gray-tint[_ngcontent-%COMP%]{background-color:#777}.ba-container[_ngcontent-%COMP%]{padding:.5rem}.ba-ticket[_ngcontent-%COMP%]{box-shadow:0 0 1rem 1px #abdca7}.ba-ticket-header[_ngcontent-%COMP%]{text-align:center;padding:1rem}.ba-ticket-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem;color:#248e38;margin:0}.ba-ticket-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:italic;font-size:.8rem;color:#444;margin:.5rem}.ba-ticket-body[_ngcontent-%COMP%]{text-align:center}.ba-ticket-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;color:#777;margin-top:0}.ba-ticket-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#000}.ba-ticket-footer[_ngcontent-%COMP%]{border-top:1px solid #eee;padding:.5rem}"]}),t})();function _(t,e){1&t&&r.Ob(0,"ba-ticket",3),2&t&&r.kc("ticket",e.$implicit)}let P=(()=>{class t{constructor(t){this.store=t,this.pageTitle="Tickets",this.noTickets=!1,this.componentActive=!0}ngOnInit(){this.store.dispatch(new a.g),this.tickets$=this.store.pipe(Object(c.q)(i.b)),this.errorMessage$=this.store.pipe(Object(c.q)(i.a))}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(c.h))},t.\u0275cmp=r.Hb({type:t,selectors:[["ba-tickets"]],decls:4,vars:3,consts:[[1,"ba-content"],[1,"w3-row"],[3,"ticket",4,"ngFor","ngForOf"],[3,"ticket"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Cc(2,_,1,1,"ba-ticket",2),r.fc(3,"async"),r.Sb(),r.Sb()),2&t&&(r.Ab(2),r.kc("ngForOf",r.gc(3,1,e.tickets$)))},directives:[b.s,O],pipes:[b.b],styles:[""]}),t})();var v=n("hGdz");const S=[{path:":id",component:k},{path:"",component:P,pathMatch:"full"}];let T=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[d.h.forChild(S)],d.h]}),t})();var y=n("bS68"),w=n("5tNe"),F=n("3Pt+"),E=n("Xa2L"),A=n("kmnG"),I=n("qFsG"),x=n("8IKM");function D(t,e){if(1&t&&(r.Tb(0,"span",5),r.Ec(1),r.Sb()),2&t){const t=r.ec();r.Ab(1),r.Fc(t.match.tip)}}function j(t,e){if(1&t){const t=r.Ub();r.Tb(0,"button",6),r.ac("click",(function(){return r.uc(t),r.ec().onEdit()})),r.Ec(1),r.Sb()}if(2&t){const t=r.ec();r.Ab(1),r.Fc(t.match.tip?"Edit":"Add prediction")}}function N(t,e){1&t&&r.Ob(0,"mat-progress-spinner",7)}function G(t,e){if(1&t){const t=r.Ub();r.Tb(0,"form",8),r.ac("ngSubmit",(function(){return r.uc(t),r.ec().onSave()})),r.Tb(1,"mat-form-field"),r.Tb(2,"mat-label"),r.Ec(3,"Yor prediction"),r.Sb(),r.Ob(4,"input",9),r.Tb(5,"mat-error"),r.Ec(6,"Please provide a valid prediction"),r.Sb(),r.Sb(),r.Tb(7,"button",10),r.Ec(8,"Save"),r.Sb(),r.Sb()}if(2&t){const t=r.ec();r.kc("formGroup",t.betmatchForm),r.Ab(7),r.kc("disabled",t.betmatchForm.invalid)}}let L=(()=>{class t{constructor(t,e,n){this.router=t,this.dialogRef=e,this.ticketService=n,this.editMode=!1,this.isLoading=!1,this.errorMessage=null}ngOnInit(){this.betmatchForm=new F.i({tip:new F.f(null,[F.F.required,F.F.minLength(1),F.F.maxLength(4)])})}navigateToMatch(t,e){this.onCloseDialog(),this.router.navigate([`/matches/${t}/${e}`])}onEdit(){this.editMode=!0}onSave(){if(this.betmatchForm.invalid)return;this.isLoading=!0;const t=this.betmatchForm.value.tip;this.ticketService.updateTicket(this.match.id,t).subscribe(e=>{"success"===e.status?this.match.tip=t:this.errorMessage="Something went wrong, please try again later",this.isLoading=!1}),this.editMode=!1}onCloseDialog(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(d.d),r.Nb(s.h),r.Nb(g.a))},t.\u0275cmp=r.Hb({type:t,selectors:[["ba-betmatch"]],inputs:{match:"match"},decls:12,vars:9,consts:[[3,"click"],["class","w3-badge w3-animate-left w3-margin-right",4,"ngIf"],["mat-button","","color","primary",3,"click",4,"ngIf"],["color","primary","mode","indeterminate",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"w3-badge","w3-animate-left","w3-margin-right"],["mat-button","","color","primary",3,"click"],["color","primary","mode","indeterminate"],[3,"formGroup","ngSubmit"],["matInput","","formControlName","tip","placeholder","Ex. 1X"],["mat-button","","type","submit","color","primary",1,"w3-right",3,"disabled"]],template:function(t,e){1&t&&(r.Tb(0,"h6",0),r.ac("click",(function(){return e.navigateToMatch(e.match.match.sport_key,e.match.match_id)})),r.Ec(1),r.Tb(2,"strong"),r.Ec(3,"VS"),r.Sb(),r.Ec(4),r.Sb(),r.Cc(5,D,2,1,"span",1),r.Cc(6,j,2,1,"button",2),r.Cc(7,N,1,0,"mat-progress-spinner",3),r.Cc(8,G,9,2,"form",4),r.Tb(9,"p"),r.Ec(10),r.fc(11,"msToDate"),r.Sb()),2&t&&(r.Ab(1),r.Gc("",e.match.match.home_team," "),r.Ab(3),r.Gc(" ",e.match.match.away_team,""),r.Ab(1),r.kc("ngIf",e.match.tip),r.Ab(1),r.kc("ngIf",!e.editMode),r.Ab(1),r.kc("ngIf",e.isLoading),r.Ab(1),r.kc("ngIf",e.editMode&&!e.isLoading),r.Ab(2),r.Gc("Match start @ ",r.gc(11,7,e.match.match.commence_time),""))},directives:[b.t,f.b,E.a,F.H,F.s,F.j,A.c,A.g,I.a,F.c,F.r,F.h,A.b],pipes:[x.a],styles:[".ba-green[_ngcontent-%COMP%]{background-color:#248e38}.ba-green-pale[_ngcontent-%COMP%]{background-color:#abdca7}.ba-green-tint[_ngcontent-%COMP%]{background-color:#54c479}.ba-gold[_ngcontent-%COMP%]{background-color:#afd91a}.ba-gray[_ngcontent-%COMP%]{background-color:#444}.ba-gray-pale[_ngcontent-%COMP%]{background-color:#eee}.ba-gray-tint[_ngcontent-%COMP%]{background-color:#777}h6[_ngcontent-%COMP%]{color:#54c479;cursor:pointer}h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{padding:0;margin:.1rem}p[_ngcontent-%COMP%]{color:#777}span[_ngcontent-%COMP%]{background-color:#afd91a}mat-progress-spinner[_ngcontent-%COMP%]{margin:1rem auto}"]}),t})();var z=n("j/Fd"),$=n("Wp6s"),q=n("cH1L"),H=n("ihCf"),R=n("8yBR"),K=n("/t3+"),X=n("vxfF"),U=n("STbY"),V=n("wZkO"),W=n("dNgK"),B=n("bSwM"),J=n("+0xr"),Y=n("M9IT"),Z=n("Dh3D"),Q=n("FdVP"),tt=n("6E1o"),et=n("u/C/"),nt=n("0yiS"),ct=n("anOr"),ot=n("608W"),it=n("MKaf");let at=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[v.a,T,c.j.forFeature("tickets",y.a),o.c.forFeature([w.a])]]}),t})();r.xc(k,[d.i,d.e,d.g,d.f,d.j,b.q,b.r,b.s,b.t,b.A,b.w,b.x,b.y,b.z,b.u,b.v,F.H,F.w,F.G,F.c,F.x,F.A,F.a,F.D,F.E,F.z,F.r,F.s,F.C,F.n,F.m,F.y,F.b,F.d,F.u,F.v,F.t,F.g,F.j,F.h,F.k,F.e,z.a,$.a,$.f,$.n,$.d,$.m,$.l,$.b,$.e,$.k,$.i,$.h,$.g,$.o,$.c,q.b,f.b,f.a,H.b,H.c,A.b,A.c,A.f,A.g,A.h,A.i,A.j,I.a,I.c,C.a,E.a,E.c,R.a,R.g,R.i,R.j,R.b,R.f,R.h,K.a,K.c,X.a,U.e,U.b,U.d,U.a,V.c,V.d,V.a,V.f,V.e,V.b,s.e,s.d,s.i,s.f,s.c,W.c,B.a,B.c,J.o,J.i,J.k,J.c,J.b,J.n,J.e,J.g,J.h,J.a,J.d,J.j,J.m,J.f,J.l,J.r,Y.a,Z.a,Z.b,Q.a,p.a,tt.a,et.a,nt.a,ct.a,ot.a,P,O,k,L],[b.b,b.G,b.p,b.k,b.E,b.g,b.C,b.F,b.d,b.f,b.i,b.j,b.l,x.a,M.a,it.a])}}]);